@(user: Option[User], registerForm: Form[User])(implicit flash: Flash, l: Lang)
@import helper._
@implicitField = @{ FieldConstructor(views.html.helpers.f) }

@main(Messages("index.title"), user = user, flash = flash) {

<div class="lightbg padtop padbottom shadow" style="z-index: 9;">
  <div class="constraint">
    <h1 class="nomargin">@Messages("index.greeting")</h1>
    <p>
      @Html(Messages("index.description", routes.Application.product))
    </p>
  </div>
</div>

<div class="whitebg padtop padbottom raiseshadow clearfix" style="z-index: 10;">
  <div class="constraint">
    <div class="left halfwidth">
      <h1 class="nomargin">@Messages("index.try_heading")</h1>
      <p>
        @Messages("index.try_content")
      </p>
      <textarea name="tryit" style="width: 90%; height: 300px;"></textarea>
      Language: <select>
        <option value="Scala">Scala</option>
        <option value="Scala">oiajdfoisajd oisdi</option>
      </select>
    </div>

    <div class="right halfwidth">
      <h1 class="nomargin">@Messages("index.signup")</h1>
      @flash.get("signup.success").map { success =>
        <p class="success">@success</p>
      }.getOrElse {
        @flash.get("signup.failure").map { failure =>
          <p class="failure">@failure</p>
        }.getOrElse {
          <p>@Messages("index.convinced")</p>
          @helper.form(action = routes.UserController.register, 'id -> "register_form") {
            @helper.inputText(registerForm("username"), '_label -> Messages("common.username"))
            @helper.inputText(registerForm("email"), '_label -> Messages("common.email"), '_help -> "")
            @helper.inputPassword(registerForm("password"), '_label -> Messages("common.password"), '_help -> "")
            <p class="disclaimer">
              @Messages("index.disclaimer", Messages("index.signup"))
            </p>
            <button type="submit" class="submit_button pad">@Messages("index.signup")</button>
          }
        }
      }
    </div>
  </div>
</div>

<div class="lightbg padtop padbottom shadow clearfix" style="z-index: 9;">
  <div class="constraint">
    <div class="left halfwidth">
      <h1 class="nomargin">@Messages("index.api_header")</h1>
      <p>@Messages("index.api_send_explanation")</p>
      <pre class="prettyprint">{
  "username": "myusername",
  "secret_key": "2e786011-7442-40e6-abba-74685f9e30ff",
  "language": "c++",
  "code": "int main() {
             cout &lt;&lt; \"This is a test\";
             return 123;
           }"
}</pre>
      <p>@Messages("index.api_send_content")</p>
      <p>@Messages("index.api_receive_explanation")</p>
      <pre class="prettyprint">{
  "status": "success",
  "output": {
    "stdout": "This is a test",
    "stderr": null,
    "screenshot": null,
    "exit": 123
  },
  "duration": 0.498
}</pre>
    </div>

    <div class="right halfwidth">
      <h1 class="nomargin">@Messages("index.cli_heading")</h1>
      <p>
        @Messages("index.cli_content")
      </p>
      <pre class="prettyprint lang-sh"># Infer language based on file extension
$ breakpoint hello_world.rb
Hello, world!

# The exit code is that of the evaluation.
$ echo $?
0

# STDIN is sent along with the evaluation request, too.
$ echo '2' | breakpoint add_arg_plus_2.rb
4

# Get some more information about the request...
$ breakpoint --verbose demo.rb
[local]  Checking for STDIN... None given.
[local]  Sending request to Breakpoint API.
[remote] Welcome to Breakpoint!
[remote] Authentication successful.
[remote] The evaluation request looks sane.
[remote] Passing it to the compilation system.
[remote] Received a Future from the compilation system.
[remote] Waiting for a result or timeout.
[remote] We received a result.
[local]  Result received from Breakpoint Frontend.
Hello world! This is a demo of Breakpoint!
</pre>
    </div>
  </div>
</div>
}
